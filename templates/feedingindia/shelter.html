<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Feeding India</title>
<style type="text/css">
  #map {
    height:120px;
  }
</style>
    <!-- Bootstrap core CSS -->
<link href="https://getbootstrap.com/docs/4.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="cover.css" rel="stylesheet">

  </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-md-6 offset-md-3">
                    <form name="data_add_shelter" action="/data_add_shelter" method="post" enctype="multipart/form-data">
                      {% csrf_token %}
                        <div class="form-group">
                            <label for="name_hunger_spot">Name of Hunger Spot</label>
                            <input type="text" class="form-control" id="name_hunger_spot" name="name_hunger_spot" placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="address">Address</label>
                            <input type="text" class="form-control" id="address" name="address" placeholder="Street, City">
                        </div>
                        <div class="form-group">
                            <label for="pincode">Pincode</label>
                            <input type="number" class="form-control" id="pincode" name="pincode" placeholder="18">
                        </div>
                        <div class="form-group">
                            <label for="total_benefitiaries">Name of Total Beneficiaries</label>
                            <input type="number" class="form-control" id="total_benefitiaries" name="total_benefitiaries" placeholder="18">
                        </div>
                        <div class="form-group">
                          <label for="type_shelter">Type of Shelter Home?</label>
                          <select class="form-control" id="type_shelter" name="type_shelter">
                            <option>Orphanage</option>
                            <option>Old Age Home</option>
                            <option>Educational Institution</option>
                            <option>Vocational Training</option>
                            <option>Night Shelter Home</option>
                            <option>Nursery</option>
                            <option>Slums</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label for="raw_food">Do you accept raw food grains?</label>
                          <select class="form-control" id="raw_food" name="raw_food">
                            <option>Yes</option>
                            <option>No</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label for="cooked_food">Do you accept cooked food?</label>
                          <select class="form-control" id="cooked_food" name="cooked_food">
                            <option>Yes</option>
                            <option>No</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label for="preference">Specify your food preference</label>
                          <select class="form-control" id="preference" name="preference">
                            <option>Vegeterian</option>
                            <option>Non-Vegeterian</option>
                            <option>Both</option>
                          </select>
                        </div>
                        <div class="form-group">
                            <label for="time_range">Time Range when you accept food?</label>
                            <input type="text" class="form-control" id="time_range" name="time_range" placeholder="Street, City">
                        </div>
                        <div class="form-group">
                          <label for="heat_food">Do you have food heating facility?</label>
                          <select class="form-control" id="heat_food" name="heat_food">
                            <option>Yes</option>
                            <option>No</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label for="refrigerate_food">Do you have refrigeration facility?</label>
                          <select class="form-control" id="refrigerate_food" name="refrigerate_food">
                            <option>Yes</option>
                            <option>No</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label for="external_support">Are you receiveing external support?</label>
                          <select class="form-control" id="external_support" name="external_support">
                            <option>Yes</option>
                            <option>No</option>
                          </select>
                        </div>
                        <div class="form-group">
                            <label for="support">If yes, please specify</label>
                            <br>
                            <div class="form-check ">
                              <input class="form-check-input" type="checkbox" name="support" id="support" value="Government">
                              <label class="form-check-label" for="support">Government</label>
                            </div>
                            <div class="form-check ">
                              <input class="form-check-input" type="checkbox" name="support" id="support" value="Private Corporation">
                              <label class="form-check-label" for="support">Private Corporation</label>
                            </div>
                            <div class="form-check ">
                              <input class="form-check-input" type="checkbox" name="support" id="support" value="Self Funded">
                              <label class="form-check-label" for="support">Self Funded</label>
                            </div>
                            <div class="form-check ">
                              <input class="form-check-input" type="checkbox" name="support" id="support" value="Individual Contribution">
                              <label class="form-check-label" for="support">Individual Contribution</label>
                            </div>
                            <div class="form-check ">
                              <input class="form-check-input" type="checkbox" name="support" id="support" value="Monetary Grants">
                              <label class="form-check-label" for="support">Monetary Grants</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="reg_status">Status of Registeration</label>
                            <br>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" name="reg_status" id="reg_status" value="3-6">
                              <label class="form-check-label" for="reg_status">Government</label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" name="reg_status" id="reg_status" value="6-9">
                              <label class="form-check-label" for="reg_status">Non-Government</label>
                            </div>
                            <div class="form-check ">
                              <input class="form-check-input" type="checkbox" name="reg_status" id="reg_status" value="9-12">
                              <label class="form-check-label" for="reg_status">Individual Led</label>
                            </div>
                            <div class="form-check ">
                              <input class="form-check-input" type="checkbox" name="reg_status" id="reg_status" value="12-15">
                              <label class="form-check-label" for="reg_status">Unorganised</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="name_incharge">Name of Contact Person</label>
                            <input type="text" class="form-control" id="name_incharge" name="name_incharge" placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="contact_incharge">Contact Number</label>
                            <input type="number" class="form-control" id="contact_incharge" name="contact_incharge" placeholder="+91-XXXXXXXXX">
                        </div>
                        <div class="form-group">
                            <label for="name_incharge">Email of Contact Person</label>
                            <input type="email" class="form-control" id="name_incharge" name="name_incharge" placeholder="John Doe">
                        </div>
                        <input type="hidden" name="lat" id="lat">
                        <input type="hidden" name="lng" id="lng">
                        <div id="map">
                        </div>
                        <br>
                        <center> <button type="submit" class="btn btn-light">Submit</button> </center>
                    </form>
                </div>
            </div>
        </div>
        <script>
      var map, infoWindow;
      function initMap() {
        
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -34.397, lng: 150.644},
          zoom: 17
        });
         marker = new google.maps.Marker({
    map: map,
    draggable: true,
    animation: google.maps.Animation.DROP,
    position: {
      lat: 59.909144,
      lng: 10.7436936
    }
  });
  marker.addListener('click', toggleBounce);
          infoWindow = new google.maps.InfoWindow;

      if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
      var pos = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
      };
      marker.setPosition(pos);
      marker.setTitle('Your position is '+(Math.round(pos.lat * 100) / 100)+", "+(Math.round(pos.lng * 100) / 100));
      map.setCenter(pos);
      document.data_add_shelter.lat.value = position.coords.latitude;
      document.data_add_shelter.lng.value = position.coords.longitude;
    }, function() {
      handleLocationError(true, infoWindow, map.getCenter());
    });
  } else {
    // Browser doesn't support Geolocation
    handleLocationError(false, infoWindow, map.getCenter());
  }
  google.maps.event.addListener(marker, 'dragend', function (event) {
            document.getElementById("lat").value = event.latLng.lat();
            document.getElementById("lng").value = event.latLng.lng();
            document.data_add_shelter.lat.value = event.latLng.lat();
            document.data_add_shelter.lng.value = event.latLng.lng();
        });
  //END GET POSITION
}

            function toggleBounce() {
  if (marker.getAnimation() !== null) {
    marker.setAnimation(null);
  } else {
    marker.setAnimation(google.maps.Animation.BOUNCE);
  }
}
      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB8eT387-v_njomM_MPkKu1yNP-v-3EmCw&callback=initMap" async defer></script>
    </body>


</html>